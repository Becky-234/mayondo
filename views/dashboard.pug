doctype html
head
  meta(charset='UTF-8')
  meta(name='viewport' content='width=device-width, initial-scale=1.0')
  link(href='https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css' rel='stylesheet' integrity='sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB' crossorigin='anonymous')
  link(rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css' integrity='sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w==' crossorigin='anonymous' referrerpolicy='no-referrer')
  link(href='https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap' rel='stylesheet')
  script(src='https://cdn.jsdelivr.net/npm/chart.js')
  link(rel='stylesheet' href='../css/dashboard.css')
  title Dashboard
aside.side-menu-container
  .logo-menu
    h2.logo MWF
    i.fa-solid.fa-bars
  ul.list
    li.list-item.active
      a(href='/dashboard')
        i.fa-solid.fa-house
        span.link-name Dashboard
    li.list-item
      a(href='/usersList')
        i.fa-solid.fa-users
        span.link-name Users
    li.list-item
      a(href='/sales')
        i.fa-solid.fa-cart-shopping
        span.link-name Sales
    li.list-item
      a(href='/stock')
        i.fa-solid.fa-truck
        span.link-name Stock
    li.list-item
      a(href='/products')
        i.fa-solid.fa-couch
        span.link-name Products
    li.list-item
      a(href='#')
        i.fa-solid.fa-gear
        span.link-name Settings
main.main-content
  nav.navbar.bg-body-tertiary.dashboard-header
    .container-fluid.d-flex.justify-content-end.align-items-center
      .d-flex.align-items-center
        a.logoutBtn(href='/index') Logout
  .dashboarBody
    h3 Dashboard
    h4 Mayondo Wood & Furniture ltd
    h1 Welcome #{currentUser.username}!
    p Youâ€™re now logged in.
    br
    section#dash-top.dash
      .row
        .col-md-3
          .dash-card
            .card-body
              i.fa-solid.fa-sack-dollar
              h5.card-title Total Revenue
              p.card-text Shs. #{dashboardData.totalRevenue}
              small.text-muted Combined potential revenue
        .col-md-3
          .dash-card
            .card-body
              i.fa-solid.fa-credit-card
              h5.card-title Total Profit
              p.card-text Shs. #{dashboardData.totalProfit}
              small.text-muted Combined potential profit
        .col-md-3
          .dash-card
            .card-body
              i.fa-solid.fa-users-line
              h5.card-title Total Inventory Items 
              p.card-text #{dashboardData.totalInventory}
              small.text-muted Unique products in stock
        .col-md-3
          .dash-card
            .card-body
              i.fa-solid.fa-truck-ramp-box
              h5.card-title Stock Warnings 
              p.card-text #{dashboardData.stockWarnings}
              small.text-muted Items with low stock
    //- Raw Materials Section
    section#raw-materials.dash.mt-5
      h5.mb-4 Raw Materials Overview
      .row
        .col-md-2
          .dash-card.raw-card
            .card-body
              i.fa-solid.fa-tree
              h6.card-title Raw Revenue
              p.card-text Shs. #{dashboardData.rawRevenue}
        .col-md-2
          .dash-card.raw-card
            .card-body
              i.fa-solid.fa-coins
              h6.card-title Raw Profit
              p.card-text Shs. #{dashboardData.rawProfit}
        .col-md-2
          .dash-card.raw-card
            .card-body
              i.fa-solid.fa-box
              h6.card-title Raw Items
              p.card-text #{dashboardData.rawInventory}
      .row
        .col-md-2
          .dash-card.raw-card
            .card-body
              i.fa-solid.fa-exclamation
              h6.card-title Raw Warnings
              p.card-text #{dashboardData.rawStockWarnings}
        .col-md-2
          .dash-card.raw-card
            .card-body
              i.fa-solid.fa-cubes
              h6.card-title Total Units
              p.card-text #{dashboardData.rawItems}
        .col-md-2
          .dash-card.raw-card
            .card-body
              i.fa-solid.fa-dollar-sign
              h6.card-title Inventory Value
              p.card-text Shs. #{dashboardData.rawInventoryValue}
    
    //- Furniture Section
    section#furniture.dash.mt-5
      h5.mb-4 Furniture Overview
      .row
        .col-md-2
          .dash-card.furniture-card
            .card-body
              i.fa-solid.fa-couch
              h6.card-title Furniture Revenue
              p.card-text Shs. #{dashboardData.furnitureRevenue}
        .col-md-2
          .dash-card.furniture-card
            .card-body
              i.fa-solid.fa-money-bill
              h6.card-title Furniture Profit
              p.card-text Shs. #{dashboardData.furnitureProfit}
        .col-md-2
          .dash-card.furniture-card
            .card-body
              i.fa-solid.fa-box-open
              h6.card-title Furniture Items
              p.card-text #{dashboardData.furnitureInventory}
      .row
        .col-md-2
          .dash-card.furniture-card
            .card-body
              i.fa-solid.fa-exclamation-triangle
              h6.card-title Furniture Warnings
              p.card-text #{dashboardData.furnitureStockWarnings}
        .col-md-2
          .dash-card.furniture-card
            .card-body
              i.fa-solid.fa-layer-group
              h6.card-title Total Units
              p.card-text #{dashboardData.furnitureItems}
        .col-md-2
          .dash-card.furniture-card
            .card-body
              i.fa-solid.fa-tag
              h6.card-title Inventory Value
              p.card-text Shs. #{dashboardData.furnitureInventoryValue}
      br
      br
    section.charts
      .row.row-cols-1.row-cols-md-3.g-3
        // g-3 adds gutters between columns
        .col
          .card.shadow-sm.p-3.mb-4
            // mb-4 for spacing below cards
            .card-body
              h5.card-title Sales Overview
              canvas#salesChart
        .col
          .card.shadow-sm.p-3.mb-4
            .card-body
              h5.card-title Product Cartegories
              canvas#productsChart
        .col
          .card.shadow-sm.p-3.mb-4
            .card-body
              h5.card-title Stock Status
              canvas#stockChart
    .col-md-6
      .card.shadow-sm.p-3.mb-4
        .card-body
          h5.card-title Top products earlier this year
          ol
            li Beds
            progress(value='80' max='100')
            br
            li Timber
            progress(value='75' max='100')
            br
            li Chairs
            progress(value='60' max='100')
            br
            li Tables
            progress(value='55' max='100')
script(src='../javascript/dashboard.js')
script(src='https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js' integrity='sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI' crossorigin='anonymous')
script(src='https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.5.0/chart.min.js' integrity='sha512-n/G+dROKbKL3GVngGWmWfwK0yPctjZQM752diVYnXZtD/48agpUKLIn0xDQL9ydZ91x6BiOmTIFwWjjFi2kEFg==' crossorigin='anonymous' referrerpolicy='no-referrer')
